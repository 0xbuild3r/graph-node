<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Components dealing with storing entities."><meta name="keywords" content="rust, rustlang, rust-lang, store"><title>graph::components::store - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../graph/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module store</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../../index.html">graph</a>::<wbr><a href="../index.html">components</a></p><div id="sidebar-vars" data-name="store" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">graph</a>::<wbr><a href="../index.html">components</a>::<wbr><a class="mod" href="">store</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/graph/components/store.rs.html#1-1774" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Components dealing with storing entities.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="__mock_MockChainStore/index.html" title="graph::components::store::__mock_MockChainStore mod">__mock_MockChainStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="__mock_MockChainStore_ChainStore/index.html" title="graph::components::store::__mock_MockChainStore_ChainStore mod">__mock_MockChainStore_ChainStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="__mock_MockStore/index.html" title="graph::components::store::__mock_MockStore mod">__mock_MockStore</a></td><td class="docblock-short"></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.DeploymentId.html" title="graph::components::store::DeploymentId struct">DeploymentId</a></td><td class="docblock-short"><p>An internal identifer for the specific instance of a deployment. The
identifier only has meaning in the context of a specific instance of
graph-node. Only store code should ever construct or consume it; all
other code passes it around as an opaque token.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.DeploymentLocator.html" title="graph::components::store::DeploymentLocator struct">DeploymentLocator</a></td><td class="docblock-short"><p>A unique identifier for a deployment that specifies both its external
identifier (<code>hash</code>) and its unique internal identifier (<code>id</code>) which
ensures we are talking about a unique location for the deployment’s data
in the store</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityCache.html" title="graph::components::store::EntityCache struct">EntityCache</a></td><td class="docblock-short"><p>A cache for entities from the store that provides the basic functionality
needed for the store interactions in the host exports. This struct tracks
how entities are modified, and caches all entities looked up from the
store. The cache makes sure that
(1) no entity appears in more than one operation
(2) only entities that will actually be changed from what they
are in the store are changed</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityKey.html" title="graph::components::store::EntityKey struct">EntityKey</a></td><td class="docblock-short"><p>Key by which an individual entity in the store can be accessed.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityQuery.html" title="graph::components::store::EntityQuery struct">EntityQuery</a></td><td class="docblock-short"><p>A query for entities in a store.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityRange.html" title="graph::components::store::EntityRange struct">EntityRange</a></td><td class="docblock-short"><p>How many entities to return, how many to skip etc.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityType.html" title="graph::components::store::EntityType struct">EntityType</a></td><td class="docblock-short"><p>The type name of an entity. This is the string that is used in the
subgraph’s GraphQL schema as <code>type NAME @entity { .. }</code></p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EntityWindow.html" title="graph::components::store::EntityWindow struct">EntityWindow</a></td><td class="docblock-short"><p>Window results of an <code>EntityQuery</code> query along the parent’s id:
the <code>order_by</code>, <code>order_direction</code>, and <code>range</code> of the query apply to
entities that belong to the same parent. Only entities that belong to
one of the parents listed in <code>ids</code> will be included in the query result.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MockChainStore.html" title="graph::components::store::MockChainStore struct">MockChainStore</a></td><td class="docblock-short"><p>Common trait for blockchain store implementations.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MockChainStore_ChainStore.html" title="graph::components::store::MockChainStore_ChainStore struct">MockChainStore_ChainStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.MockStore.html" title="graph::components::store::MockStore struct">MockStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ModificationsAndCache.html" title="graph::components::store::ModificationsAndCache struct">ModificationsAndCache</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.SUBSCRIPTION_THROTTLE_INTERVAL.html" title="graph::components::store::SUBSCRIPTION_THROTTLE_INTERVAL struct">SUBSCRIPTION_THROTTLE_INTERVAL</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.StoreEvent.html" title="graph::components::store::StoreEvent struct">StoreEvent</a></td><td class="docblock-short"><p>The store emits <code>StoreEvents</code> to indicate that some entities have changed.
For block-related data, at most one <code>StoreEvent</code> is emitted for each block
that is processed. The <code>changes</code> vector contains the details of what changes
were made, and to which entity.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.StoreEventStream.html" title="graph::components::store::StoreEventStream struct">StoreEventStream</a></td><td class="docblock-short"><p>A <code>StoreEventStream</code> produces the <code>StoreEvents</code>. Various filters can be applied
to it to reduce which and how many events are delivered by the stream.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.StoredDynamicDataSource.html" title="graph::components::store::StoredDynamicDataSource struct">StoredDynamicDataSource</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.AttributeNames.html" title="graph::components::store::AttributeNames enum">AttributeNames</a></td><td class="docblock-short"><p>Determines which columns should be selected in a table.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ChildMultiplicity.html" title="graph::components::store::ChildMultiplicity enum">ChildMultiplicity</a></td><td class="docblock-short"><p>How many children a parent can have when the child stores
the id of the parent</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityChange.html" title="graph::components::store::EntityChange enum">EntityChange</a></td><td class="docblock-short"><p>Entity change events emitted by <a href="trait.Store.html">Store</a> implementations.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityChangeOperation.html" title="graph::components::store::EntityChangeOperation enum">EntityChangeOperation</a></td><td class="docblock-short"><p>Operation types that lead to entity changes.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityCollection.html" title="graph::components::store::EntityCollection enum">EntityCollection</a></td><td class="docblock-short"><p>The base collections from which we are going to get entities for use in
<code>EntityQuery</code>; the result of the query comes from applying the query’s
filter and order etc. to the entities described in this collection. For
a windowed collection order and range are applied to each individual
window</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityFilter.html" title="graph::components::store::EntityFilter enum">EntityFilter</a></td><td class="docblock-short"><p>Supported types of store filters.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityLink.html" title="graph::components::store::EntityLink enum">EntityLink</a></td><td class="docblock-short"><p>How to select children for their parents depending on whether the
child stores parent ids (<code>Direct</code>) or the parent
stores child ids (<code>Parent</code>)</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityModification.html" title="graph::components::store::EntityModification enum">EntityModification</a></td><td class="docblock-short"><p>An entity operation that can be transacted into the store; as opposed to
<code>EntityOperation</code>, we already know whether a <code>Set</code> should be an <code>Insert</code>
or <code>Update</code></p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityOp.html" title="graph::components::store::EntityOp enum">EntityOp</a></td><td class="docblock-short"><p>A representation of entity operations that can be accumulated.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityOperation.html" title="graph::components::store::EntityOperation enum">EntityOperation</a></td><td class="docblock-short"><p>An entity operation that can be transacted into the store.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.EntityOrder.html" title="graph::components::store::EntityOrder enum">EntityOrder</a></td><td class="docblock-short"><p>The order in which entities should be restored from a store.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ParentLink.html" title="graph::components::store::ParentLink enum">ParentLink</a></td><td class="docblock-short"><p>How to connect children to their parent when the child table does not
store parent id’s</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StoreError.html" title="graph::components::store::StoreError enum">StoreError</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.WindowAttribute.html" title="graph::components::store::WindowAttribute enum">WindowAttribute</a></td><td class="docblock-short"><p>The attribute we want to window by in an <code>EntityWindow</code>. We have to
distinguish between scalar and list attributes since we need to use
different queries for them, and the JSONB storage scheme can not
determine that by itself</p>
</td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.BLOCK_NUMBER_MAX.html" title="graph::components::store::BLOCK_NUMBER_MAX constant">BLOCK_NUMBER_MAX</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.BlockStore.html" title="graph::components::store::BlockStore trait">BlockStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.ChainStore.html" title="graph::components::store::ChainStore trait">ChainStore</a></td><td class="docblock-short"><p>Common trait for blockchain store implementations.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.EthereumCallCache.html" title="graph::components::store::EthereumCallCache trait">EthereumCallCache</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.QueryStore.html" title="graph::components::store::QueryStore trait">QueryStore</a></td><td class="docblock-short"><p>Store operations used when serving queries for a specific deployment</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.QueryStoreManager.html" title="graph::components::store::QueryStoreManager trait">QueryStoreManager</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.StatusStore.html" title="graph::components::store::StatusStore trait">StatusStore</a></td><td class="docblock-short"><p>A view of the store that can provide information about the indexing status
of any subgraph and any deployment</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.SubgraphStore.html" title="graph::components::store::SubgraphStore trait">SubgraphStore</a></td><td class="docblock-short"><p>Common trait for store implementations.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.SubscriptionManager.html" title="graph::components::store::SubscriptionManager trait">SubscriptionManager</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="trait" href="trait.WritableStore.html" title="graph::components::store::WritableStore trait">WritableStore</a></td><td class="docblock-short"></td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.BlockNumber.html" title="graph::components::store::BlockNumber type">BlockNumber</a></td><td class="docblock-short"><p>The type we use for block numbers. This has to be a signed integer type
since Postgres does not support unsigned integer types. But 2G ought to
be enough for everybody</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.PoolWaitStats.html" title="graph::components::store::PoolWaitStats type">PoolWaitStats</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.StoreEventStreamBox.html" title="graph::components::store::StoreEventStreamBox type">StoreEventStreamBox</a></td><td class="docblock-short"><p>A boxed <code>StoreEventStream</code></p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="graph" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>