<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `network_indexer` mod in crate `graph_chain_ethereum`."><meta name="keywords" content="rust, rustlang, rust-lang, network_indexer"><title>graph_chain_ethereum::network_indexer::network_indexer - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../graph_chain_ethereum/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module network_indexer</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../../index.html">graph_chain_ethereum</a>::<wbr><a href="../index.html">network_indexer</a></p><div id="sidebar-vars" data-name="network_indexer" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">graph_chain_ethereum</a>::<wbr><a href="../index.html">network_indexer</a>::<wbr><a class="mod" href="">network_indexer</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/graph_chain_ethereum/network_indexer/network_indexer.rs.html#1-1217" title="goto source code">[src]</a></span></h1><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.AddBlock.html" title="graph_chain_ethereum::network_indexer::network_indexer::AddBlock struct">AddBlock</a></td><td class="docblock-short"><p>This state waits until a block has been written and an event for it
has been sent out. After that, the indexer continues processing the
next block. If anything goes wrong at this point, it’s back to
re-evaluating the chain head and fetching (potentially) different
blocks for indexing.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Context.html" title="graph_chain_ethereum::network_indexer::network_indexer::Context struct">Context</a></td><td class="docblock-short"><p>Network tracer implementation.
Context for the network tracer.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EnsureSubgraph.html" title="graph_chain_ethereum::network_indexer::network_indexer::EnsureSubgraph struct">EnsureSubgraph</a></td><td class="docblock-short"><p>This state ensures that the network subgraph that stores the
indexed data exists, and creates it if necessary.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Failed.html" title="graph_chain_ethereum::network_indexer::network_indexer::Failed struct">Failed</a></td><td class="docblock-short"><p>State for fatal errors that cause the indexing to terminate. This should
almost never happen. If it does, it should cause the entire node to crash
and restart.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.LoadLocalHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::LoadLocalHead struct">LoadLocalHead</a></td><td class="docblock-short"><p>This state waits until the local head block has been loaded from the
store. It then moves on to polling the chain head block.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.NetworkIndexer.html" title="graph_chain_ethereum::network_indexer::network_indexer::NetworkIndexer struct">NetworkIndexer</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.PollChainHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::PollChainHead struct">PollChainHead</a></td><td class="docblock-short"><p>This state waits until the chain head block has been polled
successfully.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ProcessBlocks.html" title="graph_chain_ethereum::network_indexer::network_indexer::ProcessBlocks struct">ProcessBlocks</a></td><td class="docblock-short"><p>This state takes the next block from the stream. If the stream is
exhausted, it transitions back to polling the chain head block
and deciding on the next chunk of blocks to fetch. If there is still
a block to read from the stream, it’s passed on to vetting for
validation and reorg checking.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Ready.html" title="graph_chain_ethereum::network_indexer::network_indexer::Ready struct">Ready</a></td><td class="docblock-short"><p>This is unused, the indexing never ends.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.RevertLocalHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::RevertLocalHead struct">RevertLocalHead</a></td><td class="docblock-short"><p>This state reverts the local head, moving the local indexed data
back by one block.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Start.html" title="graph_chain_ethereum::network_indexer::network_indexer::Start struct">Start</a></td><td class="docblock-short"><p>The indexer start in an empty state and immediately moves on to
ensuring that the network subgraph exists.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.StateMachineFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::StateMachineFuture struct">StateMachineFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.VetBlock.html" title="graph_chain_ethereum::network_indexer::network_indexer::VetBlock struct">VetBlock</a></td><td class="docblock-short"><p>This state vets incoming blocks with regards to two aspects:</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.AfterAddBlock.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterAddBlock enum">AfterAddBlock</a></td><td class="docblock-short"><p>The states that the <code>AddBlock</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterEnsureSubgraph.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterEnsureSubgraph enum">AfterEnsureSubgraph</a></td><td class="docblock-short"><p>The states that the <code>EnsureSubgraph</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterLoadLocalHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterLoadLocalHead enum">AfterLoadLocalHead</a></td><td class="docblock-short"><p>The states that the <code>LoadLocalHead</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterPollChainHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterPollChainHead enum">AfterPollChainHead</a></td><td class="docblock-short"><p>The states that the <code>PollChainHead</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterProcessBlocks.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterProcessBlocks enum">AfterProcessBlocks</a></td><td class="docblock-short"><p>The states that the <code>ProcessBlocks</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterRevertLocalHead.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterRevertLocalHead enum">AfterRevertLocalHead</a></td><td class="docblock-short"><p>The states that the <code>RevertLocalHead</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterStart.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterStart enum">AfterStart</a></td><td class="docblock-short"><p>The states that the <code>Start</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.AfterVetBlock.html" title="graph_chain_ethereum::network_indexer::network_indexer::AfterVetBlock enum">AfterVetBlock</a></td><td class="docblock-short"><p>The states that the <code>VetBlock</code> state can transition to.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.NetworkIndexerEvent.html" title="graph_chain_ethereum::network_indexer::network_indexer::NetworkIndexerEvent enum">NetworkIndexerEvent</a></td><td class="docblock-short"><p>Events emitted by the network tracer.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StateMachine.html" title="graph_chain_ethereum::network_indexer::network_indexer::StateMachine enum">StateMachine</a></td><td class="docblock-short"><p>State machine that handles block fetching and block reorganizations.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StateMachineStates.html" title="graph_chain_ethereum::network_indexer::network_indexer::StateMachineStates enum">StateMachineStates</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.PollStateMachine.html" title="graph_chain_ethereum::network_indexer::network_indexer::PollStateMachine trait">PollStateMachine</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.__smf_quiet_warnings_for_state_machine_future.html" title="graph_chain_ethereum::network_indexer::network_indexer::__smf_quiet_warnings_for_state_machine_future fn">__smf_quiet_warnings_for_state_machine_future</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.ensure_subgraph.html" title="graph_chain_ethereum::network_indexer::network_indexer::ensure_subgraph fn">ensure_subgraph</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.fetch_block_and_ommers_by_number.html" title="graph_chain_ethereum::network_indexer::network_indexer::fetch_block_and_ommers_by_number fn">fetch_block_and_ommers_by_number</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.fetch_blocks.html" title="graph_chain_ethereum::network_indexer::network_indexer::fetch_blocks fn">fetch_blocks</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.fetch_ommers.html" title="graph_chain_ethereum::network_indexer::network_indexer::fetch_ommers fn">fetch_ommers</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.load_local_head.html" title="graph_chain_ethereum::network_indexer::network_indexer::load_local_head fn">load_local_head</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.load_parent_block_from_store.html" title="graph_chain_ethereum::network_indexer::network_indexer::load_parent_block_from_store fn">load_parent_block_from_store</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.poll_chain_head.html" title="graph_chain_ethereum::network_indexer::network_indexer::poll_chain_head fn">poll_chain_head</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.revert_local_head.html" title="graph_chain_ethereum::network_indexer::network_indexer::revert_local_head fn">revert_local_head</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.send_event.html" title="graph_chain_ethereum::network_indexer::network_indexer::send_event fn">send_event</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.update_chain_and_local_head_metrics.html" title="graph_chain_ethereum::network_indexer::network_indexer::update_chain_and_local_head_metrics fn">update_chain_and_local_head_metrics</a></td><td class="docblock-short"><p>Helpers for metrics</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.write_block.html" title="graph_chain_ethereum::network_indexer::network_indexer::write_block fn">write_block</a></td><td class="docblock-short"></td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.AddBlockFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::AddBlockFuture type">AddBlockFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.BlockFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::BlockFuture type">BlockFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.BlockPointerFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::BlockPointerFuture type">BlockPointerFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.BlockStream.html" title="graph_chain_ethereum::network_indexer::network_indexer::BlockStream type">BlockStream</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.ChainHeadFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::ChainHeadFuture type">ChainHeadFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.EnsureSubgraphFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::EnsureSubgraphFuture type">EnsureSubgraphFuture</a></td><td class="docblock-short"><p>Terminology used in this component:</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.LocalHeadFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::LocalHeadFuture type">LocalHeadFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.OmmersFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::OmmersFuture type">OmmersFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.RevertLocalHeadFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::RevertLocalHeadFuture type">RevertLocalHeadFuture</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="type" href="type.SendEventFuture.html" title="graph_chain_ethereum::network_indexer::network_indexer::SendEventFuture type">SendEventFuture</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="graph_chain_ethereum" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>