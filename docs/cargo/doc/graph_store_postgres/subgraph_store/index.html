<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `subgraph_store` mod in crate `graph_store_postgres`."><meta name="keywords" content="rust, rustlang, rust-lang, subgraph_store"><title>graph_store_postgres::subgraph_store - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../graph_store_postgres/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module subgraph_store</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../index.html">graph_store_postgres</a></p><div id="sidebar-vars" data-name="subgraph_store" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">graph_store_postgres</a>::<wbr><a class="mod" href="">subgraph_store</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/graph_store_postgres/subgraph_store.rs.html#1-1150" title="goto source code">[src]</a></span></h1><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="unused/index.html" title="graph_store_postgres::subgraph_store::unused mod">unused</a></td><td class="docblock-short"><p>Tools for managing unused deployments</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.PRIMARY_SHARD.html" title="graph_store_postgres::subgraph_store::PRIMARY_SHARD struct">PRIMARY_SHARD</a></td><td class="docblock-short"><p>The name of the primary shard that contains all instance-wide data</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Shard.html" title="graph_store_postgres::subgraph_store::Shard struct">Shard</a></td><td class="docblock-short"><p>The name of a database shard; valid names must match <code>[a-z0-9_]+</code></p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SubgraphStore.html" title="graph_store_postgres::subgraph_store::SubgraphStore struct">SubgraphStore</a></td><td class="docblock-short"><p>Multiplex store operations on subgraphs and deployments between a
primary and any number of additional storage shards. The primary
contains information about named subgraphs, and how the underlying
deployments are spread across shards, while the actual deployment data
and metadata is stored in the shards.  Depending on the configuration,
the database for the primary and for the shards can be the same
database, in which case they are all backed by one connection pool, or
separate databases in the same Postgres cluster, or entirely separate
clusters. Details of how to configure shards can be found in <a href="https://github.com/graphprotocol/graph-node/blob/master/docs/config.md">this
document</a></p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SubgraphStoreInner.html" title="graph_store_postgres::subgraph_store::SubgraphStoreInner struct">SubgraphStoreInner</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.WritableStore.html" title="graph_store_postgres::subgraph_store::WritableStore struct">WritableStore</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.WritableSubgraphStore.html" title="graph_store_postgres::subgraph_store::WritableSubgraphStore struct">WritableSubgraphStore</a></td><td class="docblock-short"><p>A wrapper around <code>SubgraphStore</code> that only exposes functions that are
safe to call from <code>WritableStore</code>, i.e., functions that either do not
deal with anything that depends on a specific deployment
location/instance, or where the result is independent of the deployment
instance</p>
</td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.SITES_CACHE_TTL.html" title="graph_store_postgres::subgraph_store::SITES_CACHE_TTL constant">SITES_CACHE_TTL</a></td><td class="docblock-short"><p>How long to cache information about a deployment site</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.DeploymentPlacer.html" title="graph_store_postgres::subgraph_store::DeploymentPlacer trait">DeploymentPlacer</a></td><td class="docblock-short"><p>Decide where a new deployment should be placed based on the subgraph name
and the network it is indexing. If the deployment can be placed, returns
the name of the database shard for the deployment and the names of the
indexers that should index it. The deployment should then be assigned to
one of the returned indexers.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn._impl_from_sql_row_for_shard.html" title="graph_store_postgres::subgraph_store::_impl_from_sql_row_for_shard fn">_impl_from_sql_row_for_shard</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.same_subgraph.html" title="graph_store_postgres::subgraph_store::same_subgraph fn">same_subgraph</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="graph_store_postgres" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>