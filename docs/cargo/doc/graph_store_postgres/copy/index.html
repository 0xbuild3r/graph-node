<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module if repsonsible for copying the data of an existing subgraph `src` to a new subgraph `dst`. The copy is done in batches so that copying does not cause long-running transactions since they lead to table bloat in the rest of the system."><meta name="keywords" content="rust, rustlang, rust-lang, copy"><title>graph_store_postgres::copy - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../graph_store_postgres/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module copy</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li></ul></div><p class="location"><a href="../index.html">graph_store_postgres</a></p><div id="sidebar-vars" data-name="copy" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">graph_store_postgres</a>::<wbr><a class="mod" href="">copy</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/graph_store_postgres/copy.rs.html#1-678" title="goto source code">[src]</a></span></h1><div class="docblock"><p>This module if repsonsible for copying the data of an existing subgraph
<code>src</code> to a new subgraph <code>dst</code>. The copy is done in batches so that
copying does not cause long-running transactions since they lead to
table bloat in the rest of the system.</p>
<p>The <code>TARGET_DURATION</code> defines how long any individual copy operation
should take at most, and the code adapts the number of entities that are
copied in each batch to be close to that time span.</p>
<p>The progress of copy operations is recorded in the tables
<code>subgraphs.copy_state</code> and <code>subgraphs.copy_table_state</code> so that a copy
operation can resume after an interruption, for example, because
<code>graph-node</code> was restarted while the copy was running.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="active_copies/index.html" title="graph_store_postgres::copy::active_copies mod">active_copies</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="copy_state/index.html" title="graph_store_postgres::copy::copy_state mod">copy_state</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="copy_table_state/index.html" title="graph_store_postgres::copy::copy_table_state mod">copy_table_state</a></td><td class="docblock-short"></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Connection.html" title="graph_store_postgres::copy::Connection struct">Connection</a></td><td class="docblock-short"><p>A helper for copying subgraphs</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.CopyProgress.html" title="graph_store_postgres::copy::CopyProgress struct">CopyProgress</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.CopyState.html" title="graph_store_postgres::copy::CopyState struct">CopyState</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.TableState.html" title="graph_store_postgres::copy::TableState struct">TableState</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.Status.html" title="graph_store_postgres::copy::Status enum">Status</a></td><td class="docblock-short"></td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.INITIAL_BATCH_SIZE.html" title="graph_store_postgres::copy::INITIAL_BATCH_SIZE constant">INITIAL_BATCH_SIZE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.LOG_INTERVAL.html" title="graph_store_postgres::copy::LOG_INTERVAL constant">LOG_INTERVAL</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.TARGET_DURATION.html" title="graph_store_postgres::copy::TARGET_DURATION constant">TARGET_DURATION</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="graph_store_postgres" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>