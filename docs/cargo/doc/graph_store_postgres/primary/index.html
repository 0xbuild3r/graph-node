<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Utilities for dealing with subgraph metadata that resides in the primary shard. Anything in this module can only be used with a database connection for the primary shard."><meta name="keywords" content="rust, rustlang, rust-lang, primary"><title>graph_store_postgres::primary - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../graph_store_postgres/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module primary</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../index.html">graph_store_postgres</a></p><div id="sidebar-vars" data-name="primary" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">graph_store_postgres</a>::<wbr><a class="mod" href="">primary</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/graph_store_postgres/primary.rs.html#1-1365" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Utilities for dealing with subgraph metadata that resides in the primary
shard. Anything in this module can only be used with a database connection
for the primary shard.</p>
</div><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use self::db_enum_impl_DeploymentSchemaVersion::<a class="struct" href="../../graph_store_postgres/primary/db_enum_impl_DeploymentSchemaVersion/struct.DeploymentSchemaVersionMapping.html" title="struct graph_store_postgres::primary::db_enum_impl_DeploymentSchemaVersion::DeploymentSchemaVersionMapping">DeploymentSchemaVersionMapping</a>;</code></td></tr></table><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="active_copies/index.html" title="graph_store_postgres::primary::active_copies mod">active_copies</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="db_enum_impl_DeploymentSchemaVersion/index.html" title="graph_store_postgres::primary::db_enum_impl_DeploymentSchemaVersion mod">db_enum_impl_DeploymentSchemaVersion</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="deployment_schemas/index.html" title="graph_store_postgres::primary::deployment_schemas mod">deployment_schemas</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="ens_names/index.html" title="graph_store_postgres::primary::ens_names mod">ens_names</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="subgraph/index.html" title="graph_store_postgres::primary::subgraph mod">subgraph</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="subgraph_deployment_assignment/index.html" title="graph_store_postgres::primary::subgraph_deployment_assignment mod">subgraph_deployment_assignment</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="subgraph_version/index.html" title="graph_store_postgres::primary::subgraph_version mod">subgraph_version</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="unused_deployments/index.html" title="graph_store_postgres::primary::unused_deployments mod">unused_deployments</a></td><td class="docblock-short"><p>A table to track deployments that are no longer used. Once an unused
deployment has been removed, the entry in this table is the only
trace in the system that it ever existed</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Connection.html" title="graph_store_postgres::primary::Connection struct">Connection</a></td><td class="docblock-short"><p>A wrapper for a database connection that provides access to functionality
that works only on the primary database</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.DeploymentId.html" title="graph_store_postgres::primary::DeploymentId struct">DeploymentId</a></td><td class="docblock-short"><p>A marker that an <code>i32</code> references a deployment. Values of this type hold
the primary key from the <code>deployment_schemas</code> table</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EVENT_TAP.html" title="graph_store_postgres::primary::EVENT_TAP struct">EVENT_TAP</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.EVENT_TAP_ENABLED.html" title="graph_store_postgres::primary::EVENT_TAP_ENABLED struct">EVENT_TAP_ENABLED</a></td><td class="docblock-short"><p>Tests set this to true so that <code>send_store_event</code> will store a copy
of each event sent in <code>EVENT_TAP</code></p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Namespace.html" title="graph_store_postgres::primary::Namespace struct">Namespace</a></td><td class="docblock-short"><p>A namespace (schema) in the database</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Schema.html" title="graph_store_postgres::primary::Schema struct">Schema</a></td><td class="docblock-short"><p>Information about the database schema that stores the entities for a
subgraph.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Site.html" title="graph_store_postgres::primary::Site struct">Site</a></td><td class="docblock-short"><p>Details about a deployment and the shard in which it is stored. We need
the database namespace for the deployment as that information is only
stored in the primary database.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.UnusedDeployment.html" title="graph_store_postgres::primary::UnusedDeployment struct">UnusedDeployment</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.DeploymentSchemaVersion.html" title="graph_store_postgres::primary::DeploymentSchemaVersion enum">DeploymentSchemaVersion</a></td><td class="docblock-short"><p>We used to support different layout schemes. The old ‘Split’ scheme
which used JSONB layout has been removed, and we will only deal
with relational layout. Trying to do anything with a ‘Split’ subgraph
will result in an error.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn._impl_as_expression_for_deploymentid.html" title="graph_store_postgres::primary::_impl_as_expression_for_deploymentid fn">_impl_as_expression_for_deploymentid</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_as_expression_for_namespace.html" title="graph_store_postgres::primary::_impl_as_expression_for_namespace fn">_impl_as_expression_for_namespace</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_from_sql_row_for_deploymentid.html" title="graph_store_postgres::primary::_impl_from_sql_row_for_deploymentid fn">_impl_from_sql_row_for_deploymentid</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_from_sql_row_for_namespace.html" title="graph_store_postgres::primary::_impl_from_sql_row_for_namespace fn">_impl_from_sql_row_for_namespace</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_queryable_by_name_for_schema.html" title="graph_store_postgres::primary::_impl_queryable_by_name_for_schema fn">_impl_queryable_by_name_for_schema</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_queryable_by_name_for_unuseddeployment.html" title="graph_store_postgres::primary::_impl_queryable_by_name_for_unuseddeployment fn">_impl_queryable_by_name_for_unuseddeployment</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_queryable_for_schema.html" title="graph_store_postgres::primary::_impl_queryable_for_schema fn">_impl_queryable_for_schema</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn._impl_queryable_for_unuseddeployment.html" title="graph_store_postgres::primary::_impl_queryable_for_unuseddeployment fn">_impl_queryable_for_unuseddeployment</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.make_dummy_site.html" title="graph_store_postgres::primary::make_dummy_site fn">make_dummy_site</a></td><td class="docblock-short"><p>This is only used for tests to allow them to create a <code>Site</code> that does
not originate in the database</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="graph_store_postgres" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>