<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Run a GraphQL query and fetch all the entitied needed to build the final result"><meta name="keywords" content="rust, rustlang, rust-lang, prefetch"><title>graph_graphql::store::prefetch - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../graph_graphql/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module prefetch</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../../index.html">graph_graphql</a>::<wbr><a href="../index.html">store</a></p><div id="sidebar-vars" data-name="prefetch" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">graph_graphql</a>::<wbr><a href="../index.html">store</a>::<wbr><a class="mod" href="">prefetch</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/graph_graphql/store/prefetch.rs.html#1-1006" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Run a GraphQL query and fetch all the entitied needed to build the
final result</p>
</div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.ARG_FIRST.html" title="graph_graphql::store::prefetch::ARG_FIRST struct">ARG_FIRST</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ARG_ID.html" title="graph_graphql::store::prefetch::ARG_ID struct">ARG_ID</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.ARG_SKIP.html" title="graph_graphql::store::prefetch::ARG_SKIP struct">ARG_SKIP</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.CollectedAttributeNames.html" title="graph_graphql::store::prefetch::CollectedAttributeNames struct">CollectedAttributeNames</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.CollectedResponseKey.html" title="graph_graphql::store::prefetch::CollectedResponseKey struct">CollectedResponseKey</a></td><td class="docblock-short"><p>If the top-level selection is on an object, there will be a single entry in <code>obj_types</code> with all
the collected fields.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.DISABLE_EXPERIMENTAL_FEATURE_SELECT_BY_SPECIFIC_ATTRIBUTE_NAMES.html" title="graph_graphql::store::prefetch::DISABLE_EXPERIMENTAL_FEATURE_SELECT_BY_SPECIFIC_ATTRIBUTE_NAMES struct">DISABLE_EXPERIMENTAL_FEATURE_SELECT_BY_SPECIFIC_ATTRIBUTE_NAMES</a></td><td class="docblock-short"><p>Setting this environment variable to any value will enable the experimental feature “Select
by Specific Attributes”.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Join.html" title="graph_graphql::store::prefetch::Join struct">Join</a></td><td class="docblock-short"><p>Encapsulate how we should join a list of parent entities with a list of
child entities.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.JoinCond.html" title="graph_graphql::store::prefetch::JoinCond struct">JoinCond</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Node.html" title="graph_graphql::store::prefetch::Node struct">Node</a></td><td class="docblock-short"><p>Intermediate data structure to hold the results of prefetching entities
and their nested associations. For each association of <code>entity</code>, <code>children</code>
has an entry mapping the response key to the list of nodes.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ObjectCondition.html" title="graph_graphql::store::prefetch::ObjectCondition struct">ObjectCondition</a></td><td class="docblock-short"><p>An <code>ObjectType</code> with <code>Hash</code> and <code>Eq</code> derived from the name.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.JoinField.html" title="graph_graphql::store::prefetch::JoinField enum">JoinField</a></td><td class="docblock-short"><p>Describe a field that we join on. The distinction between scalar and
list is important for generating the right filter, and handling results
correctly</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.JoinRelation.html" title="graph_graphql::store::prefetch::JoinRelation enum">JoinRelation</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.ValueExt.html" title="graph_graphql::store::prefetch::ValueExt trait">ValueExt</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.collect_fields.html" title="graph_graphql::store::prefetch::collect_fields fn">collect_fields</a></td><td class="docblock-short"><p>Collects fields of a selection set. The resulting map indicates for each
response key from which types to fetch what fields to express the effect
of fragment spreads</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.collect_fields_inner.html" title="graph_graphql::store::prefetch::collect_fields_inner fn">collect_fields_inner</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.execute_field.html" title="graph_graphql::store::prefetch::execute_field fn">execute_field</a></td><td class="docblock-short"><p>Executes a field.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.execute_root_selection_set.html" title="graph_graphql::store::prefetch::execute_root_selection_set fn">execute_root_selection_set</a></td><td class="docblock-short"><p>Executes the root selection set of a query.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.execute_selection_set.html" title="graph_graphql::store::prefetch::execute_selection_set fn">execute_selection_set</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.fetch.html" title="graph_graphql::store::prefetch::fetch fn">fetch</a></td><td class="docblock-short"><p>Query child entities for <code>parents</code> from the store. The <code>join</code> indicates
in which child field to look for the parent’s id/join field. When
<code>is_single</code> is <code>true</code>, there is at most one child per parent.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.filter_derived_fields.html" title="graph_graphql::store::prefetch::filter_derived_fields fn">filter_derived_fields</a></td><td class="docblock-short"><p>Removes all derived fields from a <code>AttributeNames</code> collection based on a referential <code>ObjectType</code>.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.is_root_node.html" title="graph_graphql::store::prefetch::is_root_node fn">is_root_node</a></td><td class="docblock-short"><p>We pass the root node of the result around as a vec of nodes, not as
a single node so that we can use the same functions on interior node
lists which are the result of querying the database. The root list
consists of exactly one entry, and that entry has an empty
(not even a <code>__typename</code>) entity.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.make_root_node.html" title="graph_graphql::store::prefetch::make_root_node fn">make_root_node</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.node_list_as_value.html" title="graph_graphql::store::prefetch::node_list_as_value fn">node_list_as_value</a></td><td class="docblock-short"><p>Convert a list of nodes into a <code>q::Value::List</code> where each node has also
been converted to a <code>q::Value</code></p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.run.html" title="graph_graphql::store::prefetch::run fn">run</a></td><td class="docblock-short"><p>Run the query in <code>ctx</code> in such a manner that we only perform one query
per ‘level’ in the query. A query like <code>musicians { id bands { id } }</code>
will perform two queries: one for musicians, and one for bands, regardless
of how many musicians there are.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.AttributeNamesByObjectType.html" title="graph_graphql::store::prefetch::AttributeNamesByObjectType type">AttributeNamesByObjectType</a></td><td class="docblock-short"><p>Represents a finished column collection operation, mapping each object type to the final set of
selected SQL columns.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.GroupedFieldSet.html" title="graph_graphql::store::prefetch::GroupedFieldSet type">GroupedFieldSet</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="graph_graphql" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>